(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{26303:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/display",function(){return n(29377)}])},29377:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(28520),s=n.n(r),a=n(85893),c=n(11163),l=n(67294),o=n(21092),i=n(19381),u=n(6151),d=n(55480),x=n(7868),f=n(61127),m=n(40108),h=n.n(m),p=n(37091),v=n(41664),b=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.svg;return(0,a.jsx)(p.V,{className:"fixed inset-0 z-10 overflow-y-auto",open:t,onClose:function(){return n(!1)},children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"relative rounded lg:w-1/2 sm:w-full mx-auto p-8",children:[(0,a.jsx)(p.V.Overlay,{}),(0,a.jsx)("button",{className:"text-black text-3xl font-bold uppercase absolute",style:{top:"45px",right:"55px"},onClick:function(){return n(!1)},children:"\xd7"}),(0,a.jsx)("div",{className:"w-full py-20 px-10 bg-white bg-opacity-90 items-center border-gray-800 border-8 flex",children:(0,a.jsxs)("div",{className:"flex w-full",children:[r&&(null===r||void 0===r?void 0:r.tokenId)&&(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.V.Title,{className:"text-xl",children:"Your Sync NFT"}),(0,a.jsx)("div",{className:"border-gray-800 border-4 m-4",children:(0,a.jsx)("div",{className:h().sync,style:{width:200,height:200,cursor:"pointer"},dangerouslySetInnerHTML:{__html:r.svg}})},r.tokenId)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Traits:"}),(0,a.jsx)("p",{children:"1"}),(0,a.jsx)("p",{children:"2"}),(0,a.jsx)(v.default,{href:"/mint?tokenID=".concat(r.tokenId),children:(0,a.jsx)("button",{className:"bg-blue-700 mx-5 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Color \u221e Sync!"})})]})]}),(!r||!(null===r||void 0===r?void 0:r.tokenId))&&(0,a.jsx)("div",{className:"w-full flex justify-center content-center",children:(0,a.jsx)("div",{className:"w-full flex content-center justify-center",children:(0,a.jsx)(x.a,{})})})]})})]})})})};n(34155);function j(e,t,n,r,s,a,c){try{var l=e[a](c),o=l.value}catch(i){return void n(i)}l.done?t(o):Promise.resolve(o).then(r,s)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){j(a,r,s,c,l,"next",e)}function l(e){j(a,r,s,c,l,"throw",e)}c(void 0)}))}}function N(){var e=(0,c.useRouter)().query,t=(0,o.useWeb3Context)(),n=Number("3"),r=(0,l.useState)(!1),m=r[0],p=r[1],v=(0,l.useState)(null),j=v[0],N=v[1],k=(0,l.useState)(null),w=k[0],g=k[1],I=(0,l.useState)(null),C=I[0],S=I[1],_=(0,l.useState)(null),O=_[0],T=_[1],P=(0,l.useState)(null),E=P[0],D=P[1];function F(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=y(s().mark((function n(r,a,c,l){var o,i,u,d,x,f,m,h,p;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=[],!c){n.next=12;break}return n.next=4,r.methods.getTokenSVG(t.library.eth.abi.encodeParameter("uint256",c)).call();case 4:return i=n.sent,n.next=7,r.methods.tokenURI(t.library.eth.abi.encodeParameter("uint256",c)).call();case 7:return u=n.sent,console.log(u),o.push({svg:i,tokenId:c,meta:u}),g(o),n.abrupt("return");case 12:return n.next=14,r.methods.balanceOf(a).call();case 14:d=n.sent,x=e.mintCount?d-l:0,f=x;case 17:if(!(f<d)){n.next=28;break}return n.next=20,r.methods.tokenOfOwnerByIndex(a,t.library.eth.abi.encodeParameter("uint256",f)).call();case 20:return m=n.sent,n.next=23,r.methods.getTokenSVG(t.library.eth.abi.encodeParameter("uint256",m)).call();case 23:h=n.sent;try{p=h.replace("<svg",'<svg viewbox="0 0 500 500"'),o.push({tokenId:m,svg:p})}catch(s){console.error("Failure to parse metadata for token ".concat(m))}case 25:++f,n.next=17;break;case 28:g(o);case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,l.useEffect)(y(s().mark((function r(){var a,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=[],(e.tokenID||e.mintCount)&&S(!0),!t.active||t.networkId!==n){r.next=9;break}return c=new t.library.eth.Contract(i.Mt,"0x2ED6550746891875A7e39d3747d1a4FFe5433289"),e.tokenID&&a.push(e.tokenID),e.mintCount>1&&T(!0),r.next=8,F(c,t.account,e.tokenID,e.mintCount).catch();case 8:D(!0);case 9:case"end":return r.stop()}}),r)}))),[t,j]),(0,a.jsxs)("div",{className:h().mainContainer,children:[(0,a.jsx)(d.w,{}),(0,a.jsx)(f.w,{}),(0,a.jsxs)("div",{className:h().container,children:[(0,a.jsx)("div",{className:h().main,children:(0,a.jsxs)("div",{className:"text-center justify-center container mx-auto flex px-5 py-24 md:flex-row flex-col bg-gray-300 bg-opacity-50 items-center border-gray-800 border-8",children:[!t.active&&(0,a.jsx)("div",{className:"flex-1 flex center-content justify-center",children:(0,a.jsx)("p",{className:"font-bold title-font uppercase text-4xl",children:"Please Connect via MetaMask"})}),t.active&&(0,a.jsxs)("div",{className:"mb-10",children:[C&&(0,a.jsxs)("p",{className:"text-center mb-1 text-xl font-bold title-font sm:text-4xl text-3xl mb-2 font-black text-gray-900 pt-0 mt-0 uppercase",children:["Your Sync X Color",O?"s":""]}),!C&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-center mb-1 text-xl font-bold title-font sm:text-4xl text-3xl mb-2 font-black text-gray-900 pt-0 mt-0 uppercase",children:"Your Owned Syncs"}),(0,a.jsx)("p",{className:"text-center mb-4 font-late-500 text-sm",children:"Select an NFT to re-SYNC your colors!"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap colors justify-center content-center",children:[w&&w.map((function(e){return(0,a.jsx)("div",{className:"border-gray-800 border-4 m-4",children:(0,a.jsx)("div",{className:h().sync,onClick:function(){p(!0),N(e)},style:{width:200,height:200,cursor:"pointer"},dangerouslySetInnerHTML:{__html:e.svg}})},e.tokenId)})),!E&&(0,a.jsx)(x.a,{}),E&&!(null===w||void 0===w?void 0:w.length)&&(0,a.jsx)("div",{className:"font-bold title-font uppercase text-2xl",children:"No owned Color X Sync NFTs"})]})]})]})}),(0,a.jsx)(u.$,{})]}),(0,a.jsx)(b,{svg:j,isOpen:null!==m&&void 0!==m&&m,setIsOpen:p})]})}}},function(e){e.O(0,[183,310,774,888,179],(function(){return t=26303,e(e.s=t);var t}));var t=e.O();_N_E=t}]);